---
import { m } from "framer-motion";
const skills = {
  "Lenguajes de programación": [
    { name: "JavaScript", icon: "/svg/javascript.svg" },
    { name: "TypeScript", icon: "/svg/typescript.svg" },
    { name: "Python", icon: "/svg/python.svg" },
    { name: "Go", icon: "/svg/go.svg" },
  ],
  "Frontend": [
    { name: "React", icon: "/svg/react.svg" },
    { name: "Tailwind CSS", icon: "/svg/tailwindcss.svg" },
    { name: "Bootstrap", icon: "/svg/bootstrap.svg" },
    { name: "Next.js", icon: "/svg/nextdotjs.svg" },
    { name: "Astro", icon: "/svg/astro.svg" },
  
    
  ],
  "Backend": [
    { name: "Node.js", icon: "/svg/nodedotjs.svg" }, 
    { name: "Express", icon: "/svg/express.svg" },
    { name: "Python", icon: "/svg/python.svg" },
    { name: "Gin", icon: "/svg/gin.svg" }
  ],
  "Base de datos": [
    { name: "PostgreSQL", icon: "/svg/postgresql.svg" },
    { name: "MySQL", icon: "/svg/mysql.svg" },
    { name: "MongoDB", icon: "/svg/mongodb.svg" }
  ],
  "Herramientas": [
    { name: "Git", icon: "/svg/git.svg" },
    { name: "GitHub", icon: "/svg/github-2.svg" },
    { name: "Docker", icon: "/svg/docker.svg" },
    
  ],
  "Habilidades blandas": [
    { name: "Resolucion de problemas", icon: "" },
    { name: "Trabajo en equipo", icon: "" },
    { name: "Comunicacion", icon: "" },
    { name: "Adaptacion al cambio", icon: "" },
    { name: "Proactividad", icon: "" },
    {name: "Priorizacion de tareas", icon: ""},

  ]
};
---

<section id="skills" class="py-20 bg-gray-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="text-4xl font-bold text-center mb-4 text-primary tracking-tight">Habilidades y Tecnologías</h2>
    <p class="text-xl text-gray-600 text-center mb-12 leading-relaxed">Mi stack tecnológico y herramientas principales</p>
    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
      {Object.entries(skills).map(([category, items], index) => (
        <div class="skill-card bg-white p-6 rounded-lg shadow-lg cursor-pointer opacity-0 translate-y-4 transition-all duration-500 hover:scale-105" data-index={index}>
          <h3 class="text-xl font-semibold mb-4 text-textH2 tracking-tight">{category}</h3>
          <ul class="space-y-3">
            {items.map((skill, skillIndex) => (
              <li class="skill-item flex items-center opacity-0 -translate-x-4 transition-all duration-300" data-index={skillIndex}>
                {skill.icon ? (
                  <img src={skill.icon} alt={skill.name} class="w-6 h-6 mr-3" />
                ) : (
                  <svg class="w-5 h-5 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                )}
                <span class="text-textSpan leading-relaxed">{skill.name}</span>
              </li>
            ))}
          </ul>
        </div>
      ))}
    </div>
  </div>
</section>

<script>
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const card = entry.target as HTMLElement;
        const cardIndex = parseInt(card.dataset.index || '0');
        
        // Animar la tarjeta
        setTimeout(() => {
          card.classList.remove('opacity-0', 'translate-y-4');
        }, cardIndex * 100);

        // Animar los items dentro de la tarjeta
        const items = card.querySelectorAll('.skill-item');
        items.forEach((item, itemIndex) => {
          setTimeout(() => {
            item.classList.remove('opacity-0', '-translate-x-4');
          }, cardIndex * 100 + itemIndex * 50);
        });
      }
    });
  }, {
    threshold: 0.1
  });

  document.querySelectorAll('.skill-card').forEach(card => {
    observer.observe(card);
  });
</script>